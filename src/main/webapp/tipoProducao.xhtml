<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
				template="./template.xhtml"
				xmlns="http://www.w3.org/1999/xhtml"  
				xmlns:h="http://java.sun.com/jsf/html"
				xmlns:f="http://java.sun.com/jsf/core"
				xmlns:p="http://primefaces.org/ui">
	<ui:define name="Conteudo">

	<h:form id="idFormulario">
		<div class="col-sm-9 col-sm-offset-3 col-lg-10 col-lg-offset-2 main">
				<div class="col-lg-12">
				    <div class="panel panel-default">
					    <div class="panel-heading">
							<ol class="breadcrumb" style="color:blue;background: #30a5ff">
								<div class="titulo-centro-grande">Tipo Produção </div>
							</ol>
						</div>
					<div class="panel-body">
					     <p:messages id="message" globalOnly="true" closable="true" />
						 <br/>
					     <br/>
						 <div class="row">
							   <div class="col-md-4">
							        <div class="form-group">
								        <h:outputLabel value="Tipo:" styleClass="control-label" />
								        <div class="input-group">
								            <span class="input-group-addon">
											     <span class="glyphicon glyphicon-tag"></span>
										    </span>
											<h:inputText value="#{tipoProducaoMB.tipoProducao.tipo}" 
												         class= "form-control" 
												         maxlength="45"/>
								       </div>
								    </div>
								</div>
								<div class="col-md-4">
								    <div class="form-group">
										<h:outputLabel value="Descrição:" />
										<div class="input-group">
										    <span class="input-group-addon">
												<span class="glyphicon glyphicon-tag"></span>
											</span>
											<h:inputText value="#{tipoProducaoMB.tipoProducao.descricao}" 
												         class= "form-control" 
												         maxlength="45"/>
										</div>
									</div>
								</div>
							</div>
				            <br/>
				            <div class="form-group" style="padding-top:70px;text-align:right;">
									<p:commandButton value="Cadastrar" 
									                 class="btn-primary btn-md" 
									                 action="#{tipoProducaoMB.cadastrar()}" 
									                 update="@form"
									                 styleClass="btn btn-primary" />
				
									<p:commandButton value="Pesquisar" 
									                 name="btnPesquisar" 
									                 class="btn btn-primary-cinza"
										             action="#{tipoProducaoMB.buscar()}"
										             update="@form" />
				
									<p:commandButton value="Limpar" 
									                 title="Limpar"
									                 class="btn-primary btn-md"
										             actionListener="#{tipoProducaoMB.limpar()}" 
										             update="@form"
										             styleClass="btn btn-primary"/>
							</div>
							<br />
							<br />
							<br />
							</div>
							</div>
							<div class="panel panel-default">
								<div class="panel-body">							
									<p:dataTable id="tabelaDocente" var="item" value="#{tipoProducaoMB.tipos}" editable="true" 
						                         styleClass="table table-striped table-bordered table-hover" paginator="true" 
						                         rowsPerPageTemplate="10,20,30" currentPageReportTemplate="{startRecord} de {endRecord}"
						                         paginatorPosition="bottom" emptyMessage="Não foram encontrados registros"
						                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" >

								       <p:ajax event="rowEdit" listener="#{tipoProducaoMB.editar(item)}" />
								       <p:ajax event="rowEditCancel"/>
				 
								       <p:column headerText="Descrição">
								           <p:cellEditor>
								               <f:facet name="output"><h:outputText id="idOutput" value="#{item.descricao}" /></f:facet>
								               <f:facet name="input">
								                    <p:inputText id="modelInput" value="#{item.descricao}" style="width:100%" maxlength="45">
								                        <f:validateLength minimum="1" />
								                    </p:inputText>
								               </f:facet>
								           </p:cellEditor>
								       </p:column>
								       <p:column headerText="Tipo">
								           <p:cellEditor>
								               <f:facet name="output"><h:outputText id="idOutputTipo" value="#{item.tipo}" /></f:facet>
								               <f:facet name="input">
								                   <p:inputText id="modelInputTipo" value="#{item.tipo}" style="width:100%" maxlength="45">
								                      <f:validateLength minimum="1" />
								                   </p:inputText>
								               </f:facet>
								           </p:cellEditor>
								       </p:column>
										<p:column headerText="Ação" style="width:10%;text-align:center;">
											<p:rowEditor style="display:inline-flex" />
											<p:commandLink action="#{tipoProducaoMB.excluir(item)}" 
												           update="@form">
												   <span class="glyphicon glyphicon-trash"/>
											 </p:commandLink>
									    </p:column>
									    	
									</p:dataTable>
								</div>
							</div>
					    </div>
			</div>
		</h:form>
	</ui:define>
</ui:composition>